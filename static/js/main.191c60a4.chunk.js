(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{189:function(e,t,n){e.exports=n(303)},194:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(38),o=n.n(l),c=(n(194),n(27)),i=n(28),s=n(32),u=n(29),m=n(33),d=n(21),h=n(22),f=n(52),E=n.n(f),g=n(54),p=n.n(g),v=n(20),b=n.n(v),O=n(53),k=n.n(O),j=n(43),C=n.n(j),w=n(41),I=n.n(w),y=n(68),N=function(e){e.type;var t=e.filterOnName,n=e.filterOnDob,a=e.isChecked;return r.a.createElement("div",null,r.a.createElement("label",null,"username"),r.a.createElement(y.a,{onClick:t,checked:"name"===a}),r.a.createElement("label",null,"dob"),r.a.createElement(y.a,{onClick:n,checked:"dob"===a}))},U=function(e){var t=e.data,n=e.filterOnName,a=e.filterOnDob,l=e.isChecked;return r.a.createElement(I.a,null,r.a.createElement(N,{filterOnDob:a,filterOnName:n,isChecked:l}),r.a.createElement(E.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(b.a,null,"username"),r.a.createElement(b.a,null,"dob"),r.a.createElement(b.a,{align:"right"},"role"))),r.a.createElement(p.a,null,t.map(function(e){return r.a.createElement(C.a,{id:e.id},r.a.createElement(b.a,{component:"th",scope:"row"},e.username),r.a.createElement(b.a,{component:"th",scopre:"row"},e.dob),r.a.createElement(b.a,{align:"right"},e.role))}))))};function D(e,t){return void 0===e?[]:e.filter(function(e){return e.role===t})}var S=function(e){var t=e.store,n=t.state,a=n.users,l=n.isChecked,o=t.filterOnName,c=t.filterOnDob;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{marginTop:"10%"}}," Admin Panel"),r.a.createElement(U,{isChecked:l,data:D(a,"admin"),filterOnDob:c,filterOnName:o}))};function F(e,t){return void 0===e?[]:e.filter(function(e){return e.role===t})}var A=function(e){var t=e.store,n=t.state,a=n.users,l=n.isChecked,o=t.filterOnName,c=t.filterOnDob;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex-equal"},r.a.createElement("h1",null,"users"),r.a.createElement(U,{data:F(a,"user"),filterOnName:o,filterOnDob:c,isChecked:l})))},x=n(11),B=n(55),L=n.n(B),R=n(56),W=n.n(R),q=n(31),G=n.n(q),J=n(40),M=n.n(J),P=n(93),T=n.n(P),$=function(e){var t=e.loggedInUser,n=e.roles,a=e.children;return void 0===t?r.a.createElement(r.a.Fragment,null):n.includes(t.role)?r.a.createElement(r.a.Fragment,null,a):r.a.createElement(r.a.Fragment,null)};var z=Object(x.withStyles)({root:{flexGrow:1},menuButton:{marginLeft:-18,marginRight:10}})(function(e){var t=e.classes,n=e.loggedInUser;return r.a.createElement("div",{className:t.root},r.a.createElement(L.a,{position:"static"},r.a.createElement(W.a,{variant:"dense"},r.a.createElement(M.a,{className:t.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(T.a,null)),r.a.createElement(G.a,{variant:"h6",color:"inherit"},"Welcome ",n.username),r.a.createElement(G.a,{variant:"h6",color:"inherit"},r.a.createElement($,{roles:["user"],loggedInUser:n},r.a.createElement(d.b,{to:"/user"},"User"))),r.a.createElement(G.a,{variant:"h6",color:"inherit"},r.a.createElement($,{roles:["admin"],loggedInUser:n},r.a.createElement(d.b,{to:"/admin"},"Admin"))))))});var H=function(e){return function(t){function n(){return Object(c.a)(this,n),Object(s.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){var t=this.props,n=t.loggedInUser;return t.roles.includes(n.role)?r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{loggedInUser:n}),r.a.createElement(e,this.props)):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{to:"/"}))}}]),n}(r.a.Component)}(function(e){e.path;var t=e.component;e.loggedInUser,e.roles;return r.a.createElement(h.b,{component:t})}),K=function(){return r.a.createElement("div",{className:"loader"})},Q=n(57),V=(n(302),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.loggedInUser;return void 0===t?r.a.createElement(K,null):r.a.createElement(d.a,null,r.a.createElement(h.d,null,r.a.createElement(H,{path:"/admin",component:function(){return r.a.createElement(S,e.props)},loggedInUser:t,roles:["admin"]}),r.a.createElement(H,{path:"/user",component:function(){return r.a.createElement(A,e.props)},loggedInUser:t,roles:["user"]}),r.a.createElement(z,{loggedInUser:t})))}}]),t}(r.a.Component));var X=Object(Q.a)(Object(Q.c)("loggedInUser","setLoggedIn",void 0),Object(Q.b)({componentDidMount:function(){var e=this,t=this.props.store.updateState;fetch("http://localhost:5000/users",{headers:{method:"GET"}}).then(function(e){return e.json()}).then(function(n){t("users",n),e.props.setLoggedIn(n[0])});var n=[{id:2,username:"shaana",role:"user",dob:"19-03-1996"}];t("users",n),this.props.setLoggedIn(n[0])}}))(V);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=n(96),Z=r.a.createContext(),_=function(){return function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={Author:"Anwarulhaq",users:[],isChecked:void 0},n.updateState=function(e,t){n.setState(function(n){return Object(Y.a)({},e,t)})},n.filterOnDob=function(e){if(e.target.checked){var t=n.state.users.sort(function(e,t){return e.dob>t.dob});n.setState({users:t,isChecked:"dob"})}else n.setState({isChecked:void 0})},n.filterOnName=function(e){if(e.target.checked){var t=n.state.users.sort(function(e,t){return e.username>t.username});n.setState({users:t,isChecked:"name"})}else n.setState({isChecked:void 0})},n.readOnly=function(){var e=Object.assign({},n.state,n.state);return e},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Root;return r.a.createElement(Z.Provider,{value:{store:{state:this.state,updateState:this.updateState,readOnly:this.readOnly,filterOnDob:this.filterOnDob,filterOnName:this.filterOnName}}},r.a.createElement(Z.Consumer,null,function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,t))}))}}]),t}(r.a.Component)}();o.a.render(r.a.createElement(function(){return r.a.createElement(_,{Root:X})},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[189,1,2]]]);
//# sourceMappingURL=main.191c60a4.chunk.js.map